{"version":3,"sources":["drawTree.js","parseMathlikeString.js","main.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["Object","defineProperty","exports","value","drawTree","generateRandomData","iterations","randomData","push","treeGeneration","creaturePool","adjPool","output","i","Math","random","floor","length","countElements","arr","count","Array","isArray","sortedData","data","sort","a","b","treeNode","document","createElement","innerHTML","greekLetters","measureMaxLabelWidth","generation","folderCount","maxWidth","tempContainer","body","appendChild","tempNode","content","cloneNode","tempLabel","querySelector","textContent","concat","labelWidth","offsetWidth","removeChild","drawTreeHTML","outputDiv","number","inputNumber","_loop","node","label","folder","subtreeContainer","classList","add","color","pickColor","style","text","backgroundColor","background","border","addEventListener","contains","remove","fontWeight","marginLeft","openText","openBackground","openBorder","indexOf","array","seedNumber","drawTreeFromSeed","getElementById","totalElementsCount","console","log","html","alert","parseMathlikeString","string","parseAndCalculate","cleanedString","cleanString","result","evaluateArithmetic","inputString","noExtraneousCharacterString","replace","noHangingOperatorsString","noEmptyParenthesis","fixedParenthesisMultiplication","noUneccesaryRepeatedString","openBrackets","match","closeBrackets","difference","RegExp","repeat","calculateParentheses","multAndSums","openParenthesisIndex","lastIndexOf","closeParenthesisIndex","innerMostString","slice","evaluatedInnerMostString","newString","parenthesisTest","test","multedString","multOut","addedString","addOut","numberify","decimalPlace","hasDecimal","isNegative","startIndex","char","Error","digit","charCodeAt","pow","stringerify","integerPart","fractionalPart","round","tempInt","String","fromCharCode","regex","exec","var1","var2","operator","num1","num2","resultString","toString","_drawTree","require","_parseMathlikeString","displayToggles","display","id","outputDisplay","operationsDisplay","key","hasOwnProperty","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","stackTrace","innerText","getParents","modules","parents","k","d","dep","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"../src","sourcesContent":["\"use strict\";\n\n//function to generate random data in a treelike structure.\nfunction generateRandomData(iterations) {\n  let randomData = [];\n  randomData.push(treeGeneration(iterations));\n  return randomData;\n}\n//function to randomly populate a tree with miscellaneous data and sub-trees.\nfunction treeGeneration(iterations) {\n  const creaturePool = [\n    \"鬼\",\n    \"雪女\",\n    \"河童\",\n    \"天狗\",\n    \"狐\",\n    \"狸\",\n    \"ぬらりひょん\",\n    \"からかさ小僧\",\n    \"酒呑童子\",\n    \"座敷童子\",\n    \"一つ目小僧\",\n    \"絡新婦\",\n    \"口裂け女\",\n    \"人魚\",\n    \"魍魎\",\n    \"狐火\",\n    \"鵺\",\n    \"輪入道\",\n    \"牛鬼\",\n    \"天逆毎\",\n  ];\n  const adjPool = [\n    \"恐ろしい\",\n    \"不気味な\",\n    \"友好的な\",\n    \"幽玄な\",\n    \"奇怪な\",\n    \"邪悪な\",\n    \"神秘的な\",\n    \"怖い\",\n    \"魅惑的な\",\n    \"妖しい\",\n    \"呪われた\",\n    \"怪しい\",\n    \"凄まじい\",\n    \"霊的な\",\n    \"陰湿な\",\n    \"暗い\",\n    \"恐怖の\",\n    \"畏怖の\",\n    \"幻影的な\",\n    \"妖艶な\",\n  ];\n  let output = [];\n  for (let i = 0; i < iterations; i++) {\n    if (Math.random() > 0.5) {\n      if (i > 2) {\n        output.push(treeGeneration(Math.floor(i / 2)));\n      }\n    } else {\n      if (Math.random() > 0.5) {\n        output.push(\n          adjPool[Math.floor(Math.random() * adjPool.length)] +\n            creaturePool[Math.floor(Math.random() * creaturePool.length)]\n        );\n      } else {\n        output.push(Math.floor(Math.random() * 100));\n      }\n    }\n  }\n  return output;\n}\n//a function that checks if an element is an array, and if so, counts the total number of elements inside it, including nested arrays and the elements inside those nested arrays.\nfunction countElements(arr) {\n  let count = 0;\n  for (let i = 0; i < arr.length; i++) {\n    if (Array.isArray(arr[i])) {\n      count += countElements(arr[i]);\n    } else {\n      count++;\n    }\n  }\n  return count;\n}\n\n//function to sort the tree data in a way that the tree is drawn in a more organized way.\n//sorts each array by arrays first, then strings, then numbers, then anything else.\n//arrays are sorted by the number of elements they contain, in descending order.\n//the strings are sorted by length.\n//the numbers are sorted in descending order (largest to smallest).\n//everything else is unsorted.\nfunction sortedData(data) {\n  data.sort((a, b) => {\n    if (Array.isArray(a) && !Array.isArray(b)) {\n      return -1;\n    } else if (!Array.isArray(a) && Array.isArray(b)) {\n      return 1;\n    } else if (Array.isArray(a) && Array.isArray(b)) {\n      return countElements(b) - countElements(a);\n    } else if (typeof a === \"string\" && typeof b !== \"string\") {\n      return -1;\n    } else if (typeof a !== \"string\" && typeof b === \"string\") {\n      return 1;\n    } else if (typeof a === \"string\" && typeof b === \"string\") {\n      return a.length - b.length;\n    } else if (typeof a === \"number\" && typeof b !== \"number\") {\n      return -1;\n    } else if (typeof a !== \"number\" && typeof b === \"number\") {\n      return 1;\n    } else if (typeof a === \"number\" && typeof b === \"number\") {\n      return b - a;\n    } else {\n      return 0;\n    }\n  });\n  for (let i = 0; i < data.length; i++) {\n    if (Array.isArray(data[i])) {\n      data[i] = sortedData(data[i]);\n    }\n  }\n  return data;\n}\n\n// An HTML template element for a tree node, representing a clickable folder that can be expanded and collapsed.\nconst treeNode = document.createElement(\"template\");\ntreeNode.innerHTML = `\n  <div class=\"tree-node\" style=\"display: flex;\">\n    <div class=\"folder\" style=\"cursor: pointer; width: 20px;\"></div>\n    <div class=\"label\"></div>\n    <div class=\"subtree-container\" style=\"flex-grow: 1;\"></div>\n  </div>\n`;\n\n// Greek letter mapping for generations\nconst greekLetters = [\n  \"α\",\n  \"β\",\n  \"γ\",\n  \"δ\",\n  \"ε\",\n  \"ζ\",\n  \"η\",\n  \"θ\",\n  \"ι\",\n  \"κ\",\n  \"λ\",\n  \"μ\",\n  \"ν\",\n  \"ξ\",\n  \"ο\",\n  \"π\",\n  \"ρ\",\n  \"σ\",\n  \"τ\",\n  \"υ\",\n  \"φ\",\n  \"χ\",\n  \"ψ\",\n  \"ω\",\n];\n\n// Function to measure the width of the longest label\nfunction measureMaxLabelWidth(data, generation, folderCount) {\n  let maxWidth = 0;\n\n  // Create a temporary container for measuring\n  let tempContainer = document.createElement(\"div\");\n  document.body.appendChild(tempContainer);\n\n  // Measure widths of labels\n  for (let i = 0; i < data.length; i++) {\n    let tempNode = treeNode.content.cloneNode(true);\n    let tempLabel = tempNode.querySelector(\".label\");\n\n    if (Array.isArray(data[i])) {\n      tempLabel.textContent = `${generation} ${folderCount}`;\n      folderCount++;\n    } else {\n      tempLabel.textContent = data[i];\n    }\n\n    tempContainer.appendChild(tempNode);\n\n    // Update the maximum width if needed\n    let labelWidth = tempLabel.offsetWidth;\n    if (labelWidth > maxWidth) {\n      maxWidth = labelWidth;\n    }\n  }\n\n  // Clean up the temporary container\n  document.body.removeChild(tempContainer);\n\n  return maxWidth;\n}\n\nfunction drawTreeHTML(data, outputDiv, generation, folderCount, number) {\n  let inputNumber = number;\n  // Measure the maximum width of labels in the current folder\n  let maxWidth = measureMaxLabelWidth(data, generation, folderCount);\n  // Create the actual nodes\n  folderCount = 1; // Reset folder count after measuring\n  for (let i = 0; i < data.length; i++) {\n    let node = treeNode.content.cloneNode(true);\n    let label = node.querySelector(\".label\");\n    let folder = node.querySelector(\".folder\");\n    let subtreeContainer = node.querySelector(\".subtree-container\");\n\n    if (Array.isArray(data[i])) {\n      // Set the folder name using the Greek letter and count\n      label.textContent = `${generation} ${folderCount}`;\n      folder.textContent = \"▶\";\n      folder.classList.add(\"folder\");\n      // Set dynamic styles\n      const color = pickColor(data[i], inputNumber); // Assuming pickColor function is defined elsewhere\n      folder.style.color = color.text; // Set text color\n      folder.style.backgroundColor = color.background; // Set background color\n      folder.style.border = `1px solid ${color.border}`; // Set border color\n\n      folder.addEventListener(\"click\", function () {\n        if (folder.classList.contains(\"folder\")) {\n          // Handle opening the folder\n          folder.classList.remove(\"folder\");\n          folder.classList.add(\"open-folder\");\n          folder.textContent = \"▼\";\n          label.style.color = \"black\";\n          label.style.fontWeight = \"normal\";\n          subtreeContainer.style.marginLeft = `${maxWidth + 20}px`; // Set margin based on max width\n          //set dynamic styles\n          folder.style.color = color.openText; // Set text color\n          folder.style.backgroundColor = color.openBackground; // Set background color\n          folder.style.border = `1px solid ${color.openBorder}`; // Set border color\n          // Draw the subtree, even if it's empty\n          drawTreeHTML(\n            data[i],\n            subtreeContainer,\n            greekLetters[greekLetters.indexOf(generation) + 1],\n            1,\n            inputNumber\n          );\n        } else {\n          // Handle closing the folder\n          folder.classList.remove(\"open-folder\");\n          folder.classList.add(\"folder\");\n          label.style.color = \"blue\";\n          label.style.fontWeight = \"bold\";\n          folder.textContent = \"▶\";\n          subtreeContainer.innerHTML = \"\"; // Clear the subtree contents\n          // / Set dynamic styles\n          folder.style.color = color.text; // Set text color\n          folder.style.backgroundColor = color.background; // Set background color\n          folder.style.border = `1px solid ${color.border}`; // Set border color\n        }\n      });\n\n      folderCount++; // Increment the folder count for the next folder in the same generation\n    } else {\n      folder.classList.add(\"not-folder\");\n      label.textContent = data[i];\n    }\n\n    outputDiv.appendChild(node);\n  }\n}\n\n//later develop this to display colors based on the #of items in a folder relative to the total size of the tree.\nfunction pickColor(array, seedNumber) {\n  // Return an object with color properties based on the index or any other criteria\n\n  return {\n    text: \"blue\", // Example color for text\n    openText: \"white\", // Example color for text when folder is open\n    background: \"lightblue\", // Example color for background\n    openBackground: \"darkblue\", // Example color for background when folder is open\n    border: \"blue\", // Example color for border\n    openBorder: \"black\", // Example color for border when folder is open\n  };\n}\n\n// Tree drawing main function.\nfunction drawTreeFromSeed(number) {\n  document.getElementById(\"output\").innerHTML = \"\";\n  let data = generateRandomData(number);\n  data = sortedData(data); // Sort data\n  let totalElementsCount = countElements(data);\n  drawTreeHTML(\n    data,\n    document.getElementById(\"output\"),\n    \"α\",\n    1,\n    totalElementsCount\n  );\n  console.log(data);\n}\n\nexport function drawTree() {\n  let html = \"\";\n  html += `<div><p><i>An app that randomly generates data from a seed value and displays it as a treelike file system.</i></p></div>`;\n  html += `<p></p>`;\n  html += `<input type=\"number\" id=\"treeSeedNumber\" placeholder=\"Input a number< 500\">`;\n  html += `<button id=\"drawTreeButton\">Draw Tree</button>`;\n  document.getElementById(\"operationsButtons\").innerHTML = html;\n  document.getElementById(\"drawTreeButton\").addEventListener(\"click\", () => {\n    let number = document.getElementById(\"treeSeedNumber\").value;\n    if (number < 500) {\n      drawTreeFromSeed(number);\n    } else {\n      alert(\"Seed number too large : Please enter a number less than 500\");\n    }\n  });\n}\n","\"use strict\";\n\nexport function parseMathlikeString() {\n  let html = \"\";\n  html += `<div><p><i>An app that parses and calculates a string of #+-/().</i></p></div>`;\n  html += `<p></p>`;\n  html += `<form id=\"parseForm\">\n  <label for=\"userInput\">Enter an arithmetic expression:</label>\n  <input type=\"text\" id=\"parseAndCalculateExpression\" placeholder=\"Input arithmetic #+/-()\" name=\"userInput\">\n  <button type=\"button\" id=\"parseAndCalculateButton\">Submit</button>\n</form>`;\n\n  document.getElementById(\"operationsButtons\").innerHTML = html;\n  document\n    .getElementById(\"parseAndCalculateButton\")\n    .addEventListener(\"click\", () => {\n      let string = document.getElementById(\"parseAndCalculateExpression\").value;\n      console.log(\"string at buttonpress\", string);\n      parseAndCalculate(string);\n    });\n}\n\nfunction parseAndCalculate(string) {\n  document.getElementById(\"output\").innerHTML = \"\";\n  document.getElementById(\n    \"output\"\n  ).innerHTML += `<h2>You entered: ${string} </h2>`;\n  let cleanedString = cleanString(string);\n  document.getElementById(\n    \"output\"\n  ).innerHTML += `<h2>Processing: ${cleanedString} </h2>`;\n  let result = evaluateArithmetic(cleanedString);\n  document.getElementById(\"output\").innerHTML += `<h2>Result: ${result} </h2>`;\n}\n\nfunction cleanString(inputString) {\n  // Remove any characters that are not digits, operators, parentheses, or decimal points\n  let noExtraneousCharacterString = inputString.replace(\n    /[^0-9\\.\\+\\-\\*\\/\\(\\)]/g,\n    \"\"\n  );\n\n  // Remove operators not followed or preceded by a number or parentheses\n  let noHangingOperatorsString = noExtraneousCharacterString.replace(\n    /([\\+\\*\\/])(?![\\d\\.\\(])/g, // Keep \"-\" as it may indicate a negative number\n    \"\"\n  );\n\n  // Remove empty parentheses\n  let noEmptyParenthesis = noHangingOperatorsString.replace(/\\(\\)/g, \"\");\n\n  // Fix multiplication implied between numbers and parentheses\n  let fixedParenthesisMultiplication = noEmptyParenthesis.replace(\n    /(\\d+(\\.\\d+)?)(\\()/g,\n    \"$1*$3\"\n  );\n\n  // Remove unnecessary repeated operators, except for leading negative sign\n  let noUneccesaryRepeatedString = fixedParenthesisMultiplication.replace(\n    /([\\+\\*\\/])\\1+/g, // We don't want to touch \"-\" here to avoid removing leading negatives\n    \"$1\"\n  );\n\n  // Remove all whitespace\n  let cleanedString = noUneccesaryRepeatedString.replace(/\\s/g, \"\");\n\n  // Correct handling of the \"-\" sign when it's not a leading negative sign\n  cleanedString = cleanedString.replace(/(?<!\\d|\\))[\\+\\*\\/](?!\\d|\\()/g, \"\");\n\n  // Ensure leading negative signs remain intact\n  cleanedString = cleanedString.replace(/(?<=^|[\\(\\+\\*\\/])-/g, \"-\");\n\n  // Count the number of opening and closing brackets\n  let openBrackets = (cleanedString.match(/\\(/g) || []).length;\n  let closeBrackets = (cleanedString.match(/\\)/g) || []).length;\n\n  // If there are more closing brackets, remove the excess from the end\n  if (closeBrackets > openBrackets) {\n    let difference = closeBrackets - openBrackets;\n    cleanedString = cleanedString.replace(\n      new RegExp(`\\\\){${difference}}$`),\n      \"\"\n    );\n  }\n\n  // Remove doubled parentheses again\n  cleanedString = cleanedString.replace(/\\(\\)/g, \"\");\n\n  // Add the difference in closing brackets at the end\n  if (openBrackets > closeBrackets) {\n    cleanedString += \")\".repeat(openBrackets - closeBrackets);\n  }\n\n  // Remove any sequences of 2 operators in a row, except for cases like \"(-5+4)\"\n  cleanedString = cleanedString.replace(/[\\+\\*\\/]{2,}/g, \"\");\n\n  return cleanedString;\n}\n\n//topmost function\nfunction evaluateArithmetic(inputString) {\n  let string = calculateParentheses(inputString);\n  let number = multAndSums(string);\n  return number;\n}\n\nfunction calculateParentheses(string) {\n  let openParenthesisIndex = string.lastIndexOf(\"(\");\n  let closeParenthesisIndex = string.indexOf(\")\", openParenthesisIndex);\n  // Check if parentheses are balanced and exist\n  if (\n    openParenthesisIndex === -1 ||\n    closeParenthesisIndex === -1 ||\n    closeParenthesisIndex < openParenthesisIndex\n  ) {\n    // No parentheses found, return the original string evaluated\n    return multAndSums(string);\n  }\n  // Extract the innermost expression\n  let innerMostString = string.slice(\n    openParenthesisIndex + 1,\n    closeParenthesisIndex\n  );\n  // Evaluate the innermost expression\n  let evaluatedInnerMostString = multAndSums(innerMostString);\n  // Construct the new string by replacing the innermost parenthesis content with its result\n  let newString =\n    string.slice(0, openParenthesisIndex) +\n    evaluatedInnerMostString +\n    string.slice(closeParenthesisIndex + 1);\n\n  const parenthesisTest = /[\\(\\)]/;\n  if (parenthesisTest.test(newString)) {\n    return calculateParentheses(newString);\n  } else {\n    return newString;\n  }\n}\n\n//this function takes a string of numbers and operators and returns the result of the multiplication and addition operations.\nfunction multAndSums(inputString) {\n  let string = inputString;\n  let multedString = multOut(string); // returns a string with all the * and / operations completed and folded into the original string.\n  let addedString = addOut(multedString); // returns a string with all the + and - operations completed and folded into the original string.\n  console.log(\"addedString\", addedString);\n\n  if (typeof addedString === \"number\") {\n    return addedString;\n  } //if the string is already a number, return it.\n  else return numberify(addedString); //final conversion of the string into a number.\n}\n\nfunction numberify(string) {\n  let number = 0;\n  let decimalPlace = 0;\n  let hasDecimal = false;\n  let isNegative = false;\n\n  // Check for negative sign at the beginning\n  let startIndex = 0;\n  if (string[0] === \"-\") {\n    isNegative = true;\n    startIndex = 1; // Start processing after the negative sign\n  }\n\n  // Iterate over each character in the string starting from startIndex\n  for (let i = startIndex; i < string.length; i++) {\n    let char = string[i];\n\n    if (char === \".\") {\n      // Handle the decimal point\n      if (hasDecimal) {\n        throw new Error(`Multiple decimal points found in input string`);\n      }\n      hasDecimal = true;\n      decimalPlace = 1;\n    } else {\n      // Get the numerical value of the current character\n      let digit = char.charCodeAt(0) - \"0\".charCodeAt(0);\n\n      // Check if digit is in valid range (0-9)\n      if (digit < 0 || digit > 9) {\n        throw new Error(`Invalid character '${char}' in input string`);\n      }\n\n      if (hasDecimal) {\n        // For fractional part, shift decimal place\n        number += digit / Math.pow(10, decimalPlace);\n        decimalPlace++;\n      } else {\n        // For integer part\n        number = number * 10 + digit;\n      }\n    }\n  }\n\n  // Apply the negative sign if applicable\n  if (isNegative) {\n    number = -number;\n  }\n\n  return number;\n}\n\nfunction stringerify(number) {\n  if (number === 0) {\n    return \"0\";\n  }\n\n  let isNegative = number < 0;\n  if (isNegative) {\n    number = -number;\n  }\n\n  // Extract the integer part\n  let integerPart = Math.floor(number);\n\n  // Extract and limit the fractional part to 2 decimal places\n  let fractionalPart = number - integerPart;\n  fractionalPart = Math.round(fractionalPart * 100); // Round to 2 decimal places\n\n  // Convert integer part to string\n  let string = \"\";\n  let tempInt = integerPart;\n  do {\n    let digit = tempInt % 10;\n    string = String.fromCharCode(digit + \"0\".charCodeAt(0)) + string;\n    tempInt = Math.floor(tempInt / 10);\n  } while (tempInt > 0);\n\n  // Add the fractional part\n  if (fractionalPart > 0) {\n    string += \".\";\n    // Append fractional part digits (ensuring 2 decimal places)\n    string += Math.floor(fractionalPart / 10);\n    string += fractionalPart % 10;\n  } else {\n    // Ensure at least 2 decimal places if the fractional part is zero\n    string += \".00\";\n  }\n\n  // Add negative sign if the original number was negative\n  if (isNegative) {\n    string = \"-\" + string;\n  }\n\n  console.log(\"stringerified\", string);\n  return string;\n}\n\n//a function that takes a string as an input, and first finds the first instance of the symbol * or /.\n//next, the function finds the numbers on either side of the symbol. They will be strings.\n//each number is assigned to a variable (var1 and var2), and the starting and ending index of the whole expression are stored as (startIndex and endIndex).\n//next, the function applies numberify to var1 and var2, and then applies the appropriate operation to the two numbers, producing result.\n//next, the result is transformed back into a string with strigerify(result).\n//finally, the new string is reinserted into the original string, replacing the old expression, using the index markers to ensure it's all in the right place.\n//the function then returns the new string.  // Find the first occurrence of * or /\n\n//currently this function doesn't handle negative numbers\n//let's adjust it to handle negative numbers, but still treating everything as a string.\n//it needs to detect if a number has a \"-\" in front of it, and if so, treat it as a negative number.\nfunction multOut(string) {\n  // Adjusted regex to handle numbers like \".5\" or \"0.4\"\n  let regex = /(-?\\d*\\.?\\d+)\\s*([*\\/])\\s*(-?\\d*\\.?\\d+)/;\n\n  // Check if there's any * or / operator in the string\n  if (!regex.test(string)) {\n    return string; // No * or / found, return the original string\n  }\n\n  // Find the first occurrence of the pattern\n  let match = regex.exec(string);\n  if (!match) {\n    return string; // No match found, return the original string\n  }\n\n  // Extract numbers and operator from the match\n  let var1 = match[1];\n  let var2 = match[3];\n  let operator = match[2];\n\n  // Convert to numbers\n  let num1 = numberify(var1);\n  let num2 = numberify(var2);\n\n  // Apply the appropriate operation\n  let result;\n  if (operator === \"*\") {\n    result = num1 * num2;\n  } else if (operator === \"/\") {\n    result = num1 / num2;\n  }\n\n  // Convert result back to string\n  let resultString = result.toString();\n\n  // Replace the old expression with the new result\n  let newString = string.replace(regex, resultString);\n\n  // Continue processing the new string recursively\n  return multOut(newString);\n}\nfunction addOut(string) {\n  // Adjusted regex to handle numbers like \".5\" or \"0.4\" and ensure proper handling of leading \"-\"\n  let regex = /(-?\\d*\\.?\\d+)\\s*([+\\-])\\s*(-?\\d*\\.?\\d+)/;\n\n  if (!regex.test(string)) {\n    return string; // No + or - found, return the original string\n  }\n\n  // Find the first occurrence of the pattern\n  let match = regex.exec(string);\n  if (!match) {\n    return string; // No match found, return the original string\n  }\n\n  // Extract numbers and operator from the match\n  let var1 = match[1];\n  let var2 = match[3];\n  let operator = match[2];\n\n  // Convert to numbers\n  let num1 = numberify(var1);\n  let num2 = numberify(var2);\n\n  // Apply the appropriate operation\n  let result;\n  if (operator === \"+\") {\n    result = num1 + num2;\n  } else if (operator === \"-\") {\n    result = num1 - num2;\n  }\n\n  // Convert result back to string\n  let resultString = result.toString();\n\n  // Replace the old expression with the new result\n  let newString = string.replace(regex, resultString);\n\n  // Continue processing the new string recursively\n  return addOut(newString);\n}\n","\"use strict\";\nimport { drawTree } from \"./drawTree\";\nimport { parseMathlikeString } from \"./parseMathlikeString\";\n\n// const port = process.env.PORT || 8080;\n// app.listen(port, () => {\n//   console.log(`Server running on port ${port}`);\n// });\n\nlet displayToggles = {\n  drawTree: false,\n  parseMathlikeString: false,\n};\n\ndocument.getElementById(\"drawTree\").addEventListener(\"click\", () => {\n  display(\"drawTree\");\n});\ndocument.getElementById(\"parseMathlikeString\").addEventListener(\"click\", () => {\n  display(\"parseMathlikeString\");\n});\n\n//this should be automatable\n\nfunction display(id) {\n  let outputDisplay = document.getElementById(\"output\");\n  let operationsDisplay = document.getElementById(\"operationsButtons\");\n\n  // Clear the screen and reset all toggles\n  outputDisplay.innerHTML = \"\";\n  operationsDisplay.innerHTML = \"\";\n\n  for (let key in displayToggles) {\n    if (displayToggles.hasOwnProperty(key)) {\n      displayToggles[key] = false;\n    }\n  }\n\n  // Activate the selected mode\n  displayToggles[id] = true;\n\n  // Perform the appropriate action based on the selected mode\n  if (id === \"drawTree\" && displayToggles.drawTree) {\n    drawTree();\n  } else if (\n    id === \"parseMathlikeString\" &&\n    displayToggles.parseMathlikeString\n  ) {\n    parseMathlikeString();\n  }\n}\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}